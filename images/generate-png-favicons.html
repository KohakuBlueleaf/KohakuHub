<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generate PNG Favicons from SVG</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    h1 {
      color: #3b82f6;
    }
    .preview-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    .preview-item {
      background: white;
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    canvas {
      border: 1px solid #ddd;
      margin: 10px 0;
    }
    button {
      background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      margin-top: 10px;
    }
    button:hover {
      opacity: 0.9;
    }
    .instructions {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      border-left: 4px solid #3b82f6;
    }
    code {
      background: #f0f0f0;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <h1>Generate PNG Favicons</h1>

  <div class="instructions">
    <p><strong>Instructions:</strong></p>
    <ol>
      <li>Click the "Download" button for each size below</li>
      <li>Save the PNG files to the <code>public/</code> directory of your frontend</li>
      <li>Common sizes needed:
        <ul>
          <li><strong>16x16</strong> - Browser tab favicon</li>
          <li><strong>32x32</strong> - High-DPI browser favicon</li>
          <li><strong>180x180</strong> - Apple Touch Icon</li>
          <li><strong>192x192</strong> - Android Chrome</li>
          <li><strong>512x512</strong> - PWA icon</li>
        </ul>
      </li>
    </ol>
    <p><em>Note: SVG favicon is already configured in index.html. PNG versions provide better compatibility with older browsers.</em></p>
  </div>

  <div class="preview-grid">
    <div class="preview-item">
      <h3>16x16</h3>
      <canvas id="canvas-16" width="16" height="16"></canvas>
      <br>
      <button onclick="downloadPNG(16, 'favicon-16x16.png')">Download</button>
    </div>

    <div class="preview-item">
      <h3>32x32</h3>
      <canvas id="canvas-32" width="32" height="32"></canvas>
      <br>
      <button onclick="downloadPNG(32, 'favicon-32x32.png')">Download</button>
    </div>

    <div class="preview-item">
      <h3>180x180</h3>
      <canvas id="canvas-180" width="180" height="180"></canvas>
      <br>
      <button onclick="downloadPNG(180, 'apple-touch-icon.png')">Download</button>
    </div>

    <div class="preview-item">
      <h3>192x192</h3>
      <canvas id="canvas-192" width="192" height="192"></canvas>
      <br>
      <button onclick="downloadPNG(192, 'android-chrome-192x192.png')">Download</button>
    </div>

    <div class="preview-item">
      <h3>512x512</h3>
      <canvas id="canvas-512" width="512" height="512"></canvas>
      <br>
      <button onclick="downloadPNG(512, 'android-chrome-512x512.png')">Download</button>
    </div>
  </div>

  <script>
    // Load and render SVG to canvases
    const svgUrl = 'logo-square.svg';
    const sizes = [16, 32, 180, 192, 512];

    // Fetch SVG and render to all canvas sizes
    fetch(svgUrl)
      .then(response => response.text())
      .then(svgText => {
        sizes.forEach(size => {
          const canvas = document.getElementById(`canvas-${size}`);
          const ctx = canvas.getContext('2d');

          // Create image from SVG
          const img = new Image();
          const blob = new Blob([svgText], { type: 'image/svg+xml' });
          const url = URL.createObjectURL(blob);

          img.onload = function() {
            ctx.drawImage(img, 0, 0, size, size);
            URL.revokeObjectURL(url);
          };

          img.src = url;
        });
      })
      .catch(err => {
        console.error('Failed to load SVG:', err);
        alert('Failed to load logo-square.svg. Make sure this file is in the images/ directory.');
      });

    // Download canvas as PNG
    function downloadPNG(size, filename) {
      const canvas = document.getElementById(`canvas-${size}`);
      canvas.toBlob(blob => {
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = filename;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
      }, 'image/png');
    }
  </script>
</body>
</html>
